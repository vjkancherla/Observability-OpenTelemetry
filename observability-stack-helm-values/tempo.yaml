replicas: 1

tempo:
  repository: grafana/tempo
  tag: 2.7.1
  
  # Minimal resources for low-memory environments
  resources:
    requests:
      cpu: 50m
      memory: 256Mi
    limits:
      cpu: 100m
      memory: 512Mi
  
  # Reduce memory ballast
  memBallastSizeMbs: 512
  
  # Storage configuration
  storage:
    trace:
      backend: local
      local:
        path: /var/tempo/traces
      wal:
        path: /var/tempo/wal
  
  # OTLP receivers
  receivers:
    otlp:
      protocols:
        grpc:
          endpoint: "0.0.0.0:4317"
        http:
          endpoint: "0.0.0.0:4318"

# Disable tempo-query to save resources
tempoQuery:
  enabled: false

persistence:
  enabled: true
  size: 200Mi  # Reduced from 1Gi
  accessModes:
    - ReadWriteOnce

service:
  type: ClusterIP
